define(["./RemoteCalls-fa38ce14","TYPO3/CMS/Backend/Modal","TYPO3/CMS/Backend/Severity"],(function(t,e,i){"use strict";return new class{constructor(){this.initialize()}async initialize(){const t=document.querySelectorAll(".t3js-ai-tools-credits-view-helper");await this.initializeElements(t)}async initializeElements(t){for(let e of t)await this.initializeElement(e)}async initializeElement(e){const i={type:e.getAttribute("data-type"),fileIdentifier:e.getAttribute("data-file-identifier"),targetLanguage:e.getAttribute("data-target-language"),textPrompt:e.getAttribute("data-text-prompt")};if(i.type)return t.callAjaxCreditsAction(i).then((t=>{if(t.credits){e.innerHTML=t.credits+" Credits",e.setAttribute("data-credits",t.credits),e.style="";const i=new CustomEvent("creditsUpdate",{detail:t.credits});document.dispatchEvent(i)}})).catch((t=>{console.error("Credits",t)}))}}}));

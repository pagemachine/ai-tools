const t={images:TYPO3.settings.ajaxUrls.aitools_ai_tools_images,credits:TYPO3.settings.ajaxUrls.aitools_ai_tools_credits};async function e(t,e){var a=Object.keys(t).map((e=>e+"="+encodeURIComponent(t[e]))).join("&");return new Promise(((t,r)=>{var s=new XMLHttpRequest;s.open("POST",e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){var e=JSON.parse(this.responseText);if(e.error)return void r(e.error);t(e)}else 200!==this.status&&r("Error: status "+this.status)},s.send(a)}))}async function a(a,r,s){const o={action:"generateMetaData",target:a,"target-language":r,textPrompt:s};return top.TYPO3.Notification.info("Generating Metadata","Generating Metadata...",5),e(o,t.images).then((t=>{if(t)return top.TYPO3.Notification.success("Generated Metadata","Generated Metadata successful",5),t;throw"Error: empty response"})).catch((t=>{throw top.TYPO3.Notification.error("Error","(Meta) Error: "+t,5),t}))}async function r(a){return e({action:"credits",...a},t.credits).then((t=>{if(t)return t;throw"Error: empty response"}))}async function s(a,r,s,o=0){return e({action:"saveMetaData",target:a,"target-language":r,altText:s,translate:o},t.images).then((t=>{if(t)return top.TYPO3.Notification.success("Saved Metadata successful","Saved Metadata successful",5),t;throw"Error: empty response"})).catch((t=>{throw top.TYPO3.Notification.error("Error","(Saving) Error: "+t,5),t}))}export{r as a,s as b,a as c};
